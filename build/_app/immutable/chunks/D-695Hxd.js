import{m as S,o as B,v as m,w as E,x as O,y as x,h as L,z as T,A as K,B as Y,C as P,D as j,P as C,F as g,G as F,I as N,J as U,K as z,L as G,M as $,N as q,O as J,u as Q,Q as Z,R as p,S as A,T as D,U as k}from"./Bd--v-HG.js";class ee{anchor;#t=new Map;#r=new Map;#e=new Map;#s=!0;constructor(e,s=!0){this.anchor=e,this.#s=s}#n=()=>{var e=S;if(this.#t.has(e)){var s=this.#t.get(e),t=this.#r.get(s);if(t)B(t);else{var n=this.#e.get(s);n&&(this.#r.set(s,n.effect),this.#e.delete(s),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),t=n.effect)}for(const[i,f]of this.#t){if(this.#t.delete(i),i===e)break;const a=this.#e.get(f);a&&(m(a.effect),this.#e.delete(f))}for(const[i,f]of this.#r){if(i===s)continue;const a=()=>{if(Array.from(this.#t.values()).includes(i)){var u=document.createDocumentFragment();K(f,u),u.append(O()),this.#e.set(i,{effect:f,fragment:u})}else m(f);this.#r.delete(i)};this.#s||!t?E(f,a,!1):a()}}};#i=e=>{this.#t.delete(e);const s=Array.from(this.#t.values());for(const[t,n]of this.#e)s.includes(t)||(m(n.effect),this.#e.delete(t))};ensure(e,s){var t=S,n=Y();if(s&&!this.#r.has(e)&&!this.#e.has(e))if(n){var i=document.createDocumentFragment(),f=O();i.append(f),this.#e.set(e,{effect:x(()=>s(f)),fragment:i})}else this.#r.set(e,x(()=>s(this.anchor)));if(this.#t.set(t,e),n){for(const[a,c]of this.#r)a===e?t.skipped_effects.delete(c):t.skipped_effects.add(c);for(const[a,c]of this.#e)a===e?t.skipped_effects.delete(c.effect):t.skipped_effects.add(c.effect);t.oncommit(this.#n),t.ondiscard(this.#i)}else L&&(this.anchor=T),this.#n()}}let v=!1;function H(r){var e=v;try{return v=!1,[r(),v]}finally{v=e}}const V={get(r,e){if(!r.exclude.includes(e))return r.props[e]},set(r,e){return!1},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function te(r,e,s){return new Proxy({props:r,exclude:e},V)}const W={get(r,e){let s=r.props.length;for(;s--;){let t=r.props[s];if(p(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(r,e,s){let t=r.props.length;for(;t--;){let n=r.props[t];p(n)&&(n=n());const i=P(n,e);if(i&&i.set)return i.set(s),!0}return!1},getOwnPropertyDescriptor(r,e){let s=r.props.length;for(;s--;){let t=r.props[s];if(p(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const n=P(t,e);return n&&!n.configurable&&(n.configurable=!0),n}}},has(r,e){if(e===A||e===D)return!1;for(let s of r.props)if(p(s)&&(s=s()),s!=null&&e in s)return!0;return!1},ownKeys(r){const e=[];for(let s of r.props)if(p(s)&&(s=s()),!!s){for(const t in s)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(s))e.includes(t)||e.push(t)}return e}};function re(...r){return new Proxy({props:r},W)}function se(r,e,s,t){var n=(s&J)!==0,i=(s&k)!==0,f=t,a=!0,c=()=>(a&&(a=!1,f=i?Q(t):t),f),u;if(n){var I=A in r||D in r;u=P(r,e)?.set??(I&&e in r?o=>r[e]=o:void 0)}var l,w=!1;n?[l,w]=H(()=>r[e]):l=r[e],l===void 0&&t!==void 0&&(l=c(),u&&(j(),u(l)));var d;if(d=()=>{var o=r[e];return o===void 0?c():(a=!0,o)},(s&C)===0)return d;if(u){var M=r.$$legacy;return(function(o,_){return arguments.length>0?((!_||M||w)&&u(_?d():o),o):d()})}var b=!1,h=((s&Z)!==0?F:N)(()=>(b=!1,d()));n&&g(h);var R=$;return(function(o,_){if(arguments.length>0){const y=_?g(h):n?U(o):o;return z(h,y),b=!0,f!==void 0&&(f=y),o}return G&&b||(R.f&q)!==0?h.v:g(h)})}export{ee as B,se as p,te as r,re as s};
